{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/yaozixuan/Document/OOSE/my-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _plugin = _interopRequireDefault(require(\"../plugin\"));\n\nvar _split = _interopRequireDefault(require(\"../helpers/split\"));\n\nvar _wrap_tokens = _interopRequireDefault(require(\"../helpers/wrap_tokens\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/** @module */\n\n/**\n * Marpit Inline SVG plugin.\n *\n * @alias module:markdown/inline_svg\n * @param {MarkdownIt} md markdown-it instance.\n */\n\n\nfunction inlineSVG(md) {\n  var marpit = md.marpit;\n  md.core.ruler.after('marpit_directives_parse', 'marpit_inline_svg', function (state) {\n    if (!marpit.options.inlineSVG || state.inlineMode) return;\n    var themeSet = marpit.themeSet,\n        lastGlobalDirectives = marpit.lastGlobalDirectives;\n    var w = themeSet.getThemeProp(lastGlobalDirectives.theme, 'widthPixel');\n    var h = themeSet.getThemeProp(lastGlobalDirectives.theme, 'heightPixel');\n    var newTokens = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = (0, _split.default)(state.tokens, function (t) {\n        return t.meta && t.meta.marpitSlideElement === 1;\n      }, true)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var tokens = _step.value;\n\n        if (tokens.length > 0) {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = tokens[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var t = _step2.value;\n              if (t.meta && t.meta.marpitSlideElement) delete t.meta.marpitSlideElement;\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          newTokens.push.apply(newTokens, _toConsumableArray((0, _wrap_tokens.default)(state.Token, 'marpit_inline_svg', {\n            tag: 'svg',\n            'data-marpit-svg': '',\n            viewBox: \"0 0 \".concat(w, \" \").concat(h),\n            open: {\n              meta: {\n                marpitSlideElement: 1\n              }\n            },\n            close: {\n              meta: {\n                marpitSlideElement: -1\n              }\n            }\n          }, (0, _wrap_tokens.default)(state.Token, 'marpit_inline_svg_content', {\n            tag: 'foreignObject',\n            width: w,\n            height: h\n          }, tokens))));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    state.tokens = newTokens;\n  });\n}\n\nvar _default = (0, _plugin.default)(inlineSVG);\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/yaozixuan/Document/OOSE/my-app/node_modules/@marp-team/marpit/lib/markdown/inline_svg.js"],"names":["Object","defineProperty","exports","value","default","_plugin","_interopRequireDefault","require","_split","_wrap_tokens","obj","__esModule","inlineSVG","md","marpit","core","ruler","after","state","options","inlineMode","themeSet","lastGlobalDirectives","w","getThemeProp","theme","h","newTokens","tokens","t","meta","marpitSlideElement","length","push","Token","tag","viewBox","open","close","width","height","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _plugin = _interopRequireDefault(require(\"../plugin\"));\n\nvar _split = _interopRequireDefault(require(\"../helpers/split\"));\n\nvar _wrap_tokens = _interopRequireDefault(require(\"../helpers/wrap_tokens\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @module */\n\n/**\n * Marpit Inline SVG plugin.\n *\n * @alias module:markdown/inline_svg\n * @param {MarkdownIt} md markdown-it instance.\n */\nfunction inlineSVG(md) {\n  const {\n    marpit\n  } = md;\n  md.core.ruler.after('marpit_directives_parse', 'marpit_inline_svg', state => {\n    if (!marpit.options.inlineSVG || state.inlineMode) return;\n    const {\n      themeSet,\n      lastGlobalDirectives\n    } = marpit;\n    const w = themeSet.getThemeProp(lastGlobalDirectives.theme, 'widthPixel');\n    const h = themeSet.getThemeProp(lastGlobalDirectives.theme, 'heightPixel');\n    const newTokens = [];\n\n    for (const tokens of (0, _split.default)(state.tokens, t => t.meta && t.meta.marpitSlideElement === 1, true)) {\n      if (tokens.length > 0) {\n        for (const t of tokens) if (t.meta && t.meta.marpitSlideElement) delete t.meta.marpitSlideElement;\n\n        newTokens.push(...(0, _wrap_tokens.default)(state.Token, 'marpit_inline_svg', {\n          tag: 'svg',\n          'data-marpit-svg': '',\n          viewBox: `0 0 ${w} ${h}`,\n          open: {\n            meta: {\n              marpitSlideElement: 1\n            }\n          },\n          close: {\n            meta: {\n              marpitSlideElement: -1\n            }\n          }\n        }, (0, _wrap_tokens.default)(state.Token, 'marpit_inline_svg_content', {\n          tag: 'foreignObject',\n          width: w,\n          height: h\n        }, tokens)));\n      }\n    }\n\n    state.tokens = newTokens;\n  });\n}\n\nvar _default = (0, _plugin.default)(inlineSVG);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}