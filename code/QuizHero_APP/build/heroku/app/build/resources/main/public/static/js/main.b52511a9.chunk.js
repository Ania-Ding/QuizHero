(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1065:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(13),o=n.n(i),r=(n(446),n(21)),l=n(30),c=n(26),u=n(25),d=n(27),h=n(416),m=n.n(h),p=(n(447),n(1071)),f=n(1068),g=n(1069),b=n(39),v=n(417),w=n.n(v),k=n(74),y=n.n(k),E={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"}},q=new w.a;q.themeSet.default=q.themeSet.add("\n            /* @theme example */\n\n            section {\n              background-color: #369;\n              color: #fff;\n              font-size: 30px;\n              padding: 40px;\n            }\n\n        h1,\n        h2 {\n          text-align: center;\n          margin: 0;\n        }\n\n        h1 {\n          color: #8cf;\n        }\n        ");var S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={file:"",result:"",rawString:"",slideString:"",quizString:"",quiz:[],display_name:"none"},n.beforeUpload=function(e){console.log("FILEEE",e),n.setState({file:e})},n.onChange=function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e.file.name),p.a.success("".concat(e.file.name," file uploaded successfully")),n.readFile(n.state.file).then(n.convertText),n.state.display_name=n.display_name(n.state.display_name)):"error"===e.file.status&&(console.log(e.file.name),p.a.error("".concat(e.file.name," file upload failed.")))},n.onDownload=function(e){!function(e,t){var n=window.URL||window.webkitURL||window,a=new Blob([t]),s=document.createElementNS("http://www.w3.org/1999/xhtml","a");s.href=n.createObjectURL(a),s.download=e,function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(s)}("filename.html",n.state.result),console.log(n.state.rawString)},n.onPreview=function(e){n.separateQuestion(n.state.rawString)},n.readFile=function(e){return new Promise((function(t,n){var a=new FileReader;console.log("1"),a.readAsText(e),console.log("2"),a.onload=function(e){t(a.result),console.log("3")},a.onerror=function(e){n(e)}}))},n.convertText=function(e){n.setState({rawString:e});var t=q.render(e),a=t.html,s=t.css,i="\n            <!DOCTYPE html>\n            <html><body>\n              <style>".concat(s,"</style>\n              ").concat(a,"\n            </body></html>\n            ");n.setState({result:i})},n.separateQuestion=function(e){for(var t=new Array,a=new Array,s=e.split("---\n\n"),i=0;i<s.length;i++){console.log(">"===s[i].split(" ",2)[0]);var o=s[i].split(" ");console.log(o[0]),">"===o[0]?a.push(s[i]):t.push(s[i])}console.log(a),n.setState({slideString:t.join("---\n\n"),quizString:a.join("---\n\n")},n.trans)},n.parseString=function(e){for(var t,n=new Array,a=e.split("\n\n"),s=0;s<a.length;s++){for(var i="A",o={question:"",answers:[]},r=a[s].split("\n"),l=0;l<r.length;l++){var c=r[l];if(c.length>1)if(console.log(c),"> Question:"===c.slice(0,11))o.question=c.slice(12,c.length);else if("*"===c[0]&&"[x]"===c.slice(2,5)){t=c.slice(6,c.length),o.answers.push({type:i,content:t});var u=i.charCodeAt(0);i=String.fromCharCode(u+1);var d=document.location.origin,h={fileId:1,questionId:n.length+1,answer:String.fromCharCode(u),countA:0,countB:0,countC:0,countD:0};console.log(h),y.a.post(d+"/quiz",h,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("quiz initialize success")})).catch((function(e){console.log("error")}))}else if("*"===c[0]&&"[ ]"===c.slice(2,5)){t=c.slice(6,c.length),o.answers.push({type:i,content:t});u=i.charCodeAt(0);i=String.fromCharCode(u+1)}}n.push(o)}return n},n.toStudentMode=function(){n.separateQuestion(n.state.rawString),n.callback4()},n.toPresenterMode=function(){n.separateQuestion(n.state.rawString)},n.trans=function(){console.log(n.state.quizString),console.log(n.state.slideString);var e=n.parseString(n.state.quizString);console.log(e),n.setState({quiz:e});var t=n.state.slideString;n.props.callback(e),n.props.callback1(t)},n.callback=e.callback,n.callback1=e.callback1,n.callback4=e.callback4,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"display_name",value:function(){"none"===this.state.display_name?this.setState({display_name:"block"}):"block"===this.state.display_name&&this.setState({display_name:"none"})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(f.a,Object.assign({onChange:this.onChange,beforeUpload:this.beforeUpload,onDownload:this.onDownload,onPreview:this.onPreview},E),s.a.createElement(g.a,null,s.a.createElement(b.a,{type:"upload"})," Click to Upload"))),s.a.createElement("div",{style:{display:this.state.display_name}},s.a.createElement("div",null,s.a.createElement(g.a,{onClick:this.toPresenterMode},s.a.createElement(b.a,null),"Presenter mode")),s.a.createElement("div",null,s.a.createElement(g.a,{onClick:this.toStudentMode},s.a.createElement(b.a,null),"Student mode"))))}}]),t}(s.a.Component),C=n(48),O=n(176),z=n(41),A=n(110);var j=function(e){return s.a.createElement("h2",{className:"question"},e.content)};var x=function(e){return s.a.createElement("div",{className:"questionCount"},"Question ",s.a.createElement("span",null,e.counter)," of ",s.a.createElement("span",null,e.total))};var Q=function(e){return s.a.createElement("li",{className:"answerOption"},s.a.createElement("input",{type:"radio",className:"radioCustomButton",name:"radioGroup",checked:e.answerType===e.answer,id:e.answerType,value:e.answerType+" "+e.questionId+" "+e.answerContent,disabled:e.answer,onChange:e.onAnswerSelected}),s.a.createElement("label",{className:"radioCustomLabel",htmlFor:e.answerType},e.answerContent))};var T=function(e){return s.a.createElement(A.CSSTransitionGroup,{className:"container",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},s.a.createElement("div",{key:e.questionId},s.a.createElement(x,{counter:e.questionId,total:e.questionTotal}),s.a.createElement(j,{content:e.question}),s.a.createElement("ul",{className:"answerOptions"},e.answerOptions.map((function(t){return s.a.createElement(Q,{key:t.content,answerContent:t.content,answerType:t.type,answer:e.answer,questionId:e.questionId,onAnswerSelected:e.onAnswerSelected})})))))},I=n(429),N=n.n(I),R=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={quizData:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.location.origin;y.a.get(t+"/quizstat",{params:{fileId:1,questionId:1}}).then((function(t){200===t.status&&(e.setState({quizData:t.data}),console.log("res",t))})).catch((function(e){console.log("error")}))}},{key:"render",value:function(){var e=this,t=this.state.quizData,n=0,a=[],i=[],o=[],r=[],l=[],c=[],u=[],d=["#FE8463","#C6E579","#32D3EB"];for(var h in t){n+=1,a.push("Q"+n),i.push(t[h].countA),o.push(t[h].countB),r.push(t[h].countC),l.push(t[h].countD),c.push(t[h].answer);var m=t[h].countA+t[h].countB+t[h].countC+t[h].countD,p=0;"A"===t[h].answer?p=t[h].countA:"B"===t[h].answer?p=t[h].countB:"C"===t[h].answer?p=t[h].countC:"D"===t[h].answer&&(p=t[h].countD);var f=p/m*100;u.push(f.toFixed(1))}var g={title:{text:"Quiz Statistic",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{data:a},yAxis:[{type:"value",name:"Amount of Choices",position:"left",axisLine:{lineStyle:{color:"black"}}},{type:"value",name:"Correct Percentage",position:"right",axisLine:{lineStyle:{color:"black"}},axisLabel:{formatter:"{value} %"}}],series:[{name:"A",type:"bar",barGap:.1,barWidth:30,data:i,itemStyle:{normal:{color:function(e){return"A"===c[e.dataIndex]?d[0]:d[1]}}}},{name:"B",type:"bar",barWidth:30,data:o,itemStyle:{normal:{color:function(e){return"B"===c[e.dataIndex]?d[0]:d[1]}}}},{name:"C",type:"bar",barWidth:30,data:r,itemStyle:{normal:{color:function(e){return"C"===c[e.dataIndex]?d[0]:d[1]}}}},{name:"D",type:"bar",barWidth:30,data:l,itemStyle:{normal:{color:function(e){return"D"===c[e.dataIndex]?d[0]:d[1]}}}},{name:"Corrent Percentage",type:"line",data:u,yAxisIndex:1,itemStyle:{normal:{color:d[2]}}}]};return s.a.createElement("div",null,s.a.createElement("div",{className:"legend",style:{float:"left"}},s.a.createElement("span",{style:{marginLeft:"10px"}},"Correct Answer"),s.a.createElement("button",{style:{backgroundColor:"#FE8463",width:"30px",height:"15px",margin:"0px 10px",borderRadius:"3px"}}),s.a.createElement("span",{style:{marginLeft:"10px"}},"Wrong Answer"),s.a.createElement("button",{style:{backgroundColor:"#C6E579",width:"30px",height:"15px",margin:"0px 10px",borderRadius:"3px"}})),s.a.createElement(N.a,{ref:function(t){e.echartsElement=t},option:g,theme:"clear"}))}}]),t}(s.a.Component),F=n(45),P="> Question: What is your favorite course?";console.log(P);var D={},M=function(){return s.a.createElement(F.e,{justifyContent:"space-between",position:"absolute",bottom:0,width:1},s.a.createElement(F.a,{padding:"0 1em"},s.a.createElement(F.f,null)),s.a.createElement(F.a,{padding:"1em"},s.a.createElement(F.n,null)))},U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){n.props.callback2(1)},n.callback2=e.callback2,n.slides=e.slidesString,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(P),s.a.createElement(F.d,{loop:!0,theme:D,template:M},s.a.createElement(F.k,{containsSlides:!0},this.slides),s.a.createElement(F.p,null,s.a.createElement(F.g,null,"Next, We will do some in class quiz"),s.a.createElement(F.a,{padding:"1em"},s.a.createElement(g.a,{onClick:this.onClick},s.a.createElement(b.a,null)," Click to start quiz"))),s.a.createElement(F.k,{containsSlides:!0},this.slides))}}]),t}(s.a.Component),B=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).OnClick=function(){n.props.callback3()},n.callback3=e.callback3,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(g.a,{onClick:this.OnClick},s.a.createElement(b.a,null)," Back to Slides")}}]),t}(s.a.Component);var L=function(e){return s.a.createElement("div",null,s.a.createElement(A.CSSTransitionGroup,{className:"container result",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},s.a.createElement("div",null,"Thank you for finishing the quiz, here are the statistics:")),s.a.createElement(R,null),s.a.createElement(B,{callback3:e.callback3}))},_=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={upload:0,counter:0,questionId:1,question:"",answerOptions:[],answer:"",answersCount:{},result:"",quizQuestions:e.questions},n.callback3=e.callback3,n.handleAnswerSelected=n.handleAnswerSelected.bind(Object(z.a)(n)),n.skipQuestion=n.skipQuestion.bind(Object(z.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.quizQuestions.map((function(t){return e.shuffleArray(t.answers)}));this.setState({question:this.state.quizQuestions[0].question,answerOptions:t[0]})}},{key:"shuffleArray",value:function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}},{key:"handleAnswerSelected",value:function(e){var t=this;this.setUserAnswer(e.currentTarget.value),console.log(e.currentTarget.value),this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return t.setNextQuestion()}),300):setTimeout((function(){return t.setResults(t.getResults())}),300)}},{key:"setUserAnswer",value:function(e){var t=e.split(" "),n=t[0],a=t[1];t[2];console.log(t),this.setState((function(t,a){return{answersCount:Object(O.a)({},t.answersCount,Object(C.a)({},e,(t.answersCount[n]||0)+1)),answer:n}}));var s=document.location.origin,i={fileId:1,questionId:parseInt(a),choice:n};console.log(i),y.a.post(s+"/record",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("upload success")})).catch((function(e){console.log("error")}))}},{key:"setNextQuestion",value:function(){var e=this.state.counter+1,t=this.state.questionId+1;this.setState({counter:e,questionId:t,question:this.state.quizQuestions[e].question,answerOptions:this.state.quizQuestions[e].answers,answer:""})}},{key:"skipQuestion",value:function(){var e=this;this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return e.setNextQuestion()}),300):setTimeout((function(){return e.setResults(e.getResults())}),300)}},{key:"getResults",value:function(){var e=this.state.answersCount,t=Object.keys(e),n=t.map((function(t){return e[t]})),a=Math.max.apply(null,n);return t.filter((function(t){return e[t]===a}))}},{key:"setResults",value:function(e){1===e.length?this.setState({result:e[0]}):this.setState({result:"Undetermined"})}},{key:"renderQuiz",value:function(){return s.a.createElement("div",null,s.a.createElement(T,{answer:this.state.answer,answerOptions:this.state.answerOptions,questionId:this.state.questionId,question:this.state.question,questionTotal:this.state.quizQuestions.length,onAnswerSelected:this.handleAnswerSelected}),s.a.createElement(g.a,{onClick:this.skipQuestion},s.a.createElement(b.a,null)," Skip"))}},{key:"renderResult",value:function(){return s.a.createElement(L,{quizResult:this.state.result,callback3:this.callback3})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Quiz-page"},s.a.createElement("div",{className:"Quiz-header"}),this.state.result?this.renderResult():this.renderQuiz())}}]),t}(a.Component);var W=function(e){return s.a.createElement("div",null,s.a.createElement(A.CSSTransitionGroup,{className:"container result",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},s.a.createElement("div",null,"Thank you for finishing the quiz, please go back to the slides.")),s.a.createElement(B,{callback3:e.callback3}))},G=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={upload:0,counter:0,questionId:1,question:"",answerOptions:[],answer:"",answersCount:{},result:"",quizQuestions:e.questions},n.callback3=e.callback3,n.handleAnswerSelected=n.handleAnswerSelected.bind(Object(z.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.quizQuestions.map((function(t){return e.shuffleArray(t.answers)}));this.setState({question:this.state.quizQuestions[0].question,answerOptions:t[0]})}},{key:"shuffleArray",value:function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}},{key:"handleAnswerSelected",value:function(e){var t=this;this.setUserAnswer(e.currentTarget.value),console.log(e.currentTarget.value),this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return t.setNextQuestion()}),300):setTimeout((function(){return t.setResults(t.getResults())}),300)}},{key:"setUserAnswer",value:function(e){var t=e.split(" "),n=t[0],a=t[1];t[2];console.log(t),this.setState((function(t,a){return{answersCount:Object(O.a)({},t.answersCount,Object(C.a)({},e,(t.answersCount[n]||0)+1)),answer:n}}));var s=document.location.origin,i={fileId:1,questionId:parseInt(a),choice:n};console.log(i),y.a.post(s+"/record",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("upload success")})).catch((function(e){console.log("error")}))}},{key:"setNextQuestion",value:function(){var e=this.state.counter+1,t=this.state.questionId+1;this.setState({counter:e,questionId:t,question:this.state.quizQuestions[e].question,answerOptions:this.state.quizQuestions[e].answers,answer:""})}},{key:"getResults",value:function(){var e=this.state.answersCount,t=Object.keys(e),n=t.map((function(t){return e[t]})),a=Math.max.apply(null,n);return t.filter((function(t){return e[t]===a}))}},{key:"setResults",value:function(e){1===e.length?this.setState({result:e[0]}):this.setState({result:"Undetermined"})}},{key:"renderQuiz",value:function(){return s.a.createElement(T,{answer:this.state.answer,answerOptions:this.state.answerOptions,questionId:this.state.questionId,question:this.state.question,questionTotal:this.state.quizQuestions.length,onAnswerSelected:this.handleAnswerSelected})}},{key:"renderResult",value:function(){return s.a.createElement(W,{quizResult:this.state.result,callback3:this.callback3})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Quiz-page"},s.a.createElement("div",{className:"Quiz-header"}),this.state.result?this.renderResult():this.renderQuiz())}}]),t}(a.Component),J=(n(1066),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).callback=function(e){n.setState({quiz:e}),n.setState({slidesFlag:1})},n.callback1=function(e){n.setState({slidesString:e})},n.callback2=function(){n.setState({quizFlag:1})},n.callback3=function(){return n.setState({quizFlag:0})},n.callback4=function(){return n.setState({studentFlag:1})},n.statisticButtonClicked=function(){window.location="/quizStatistic"},n.renderUploadPage=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),s.a.createElement(S,{callback:n.callback,callback1:n.callback1,callback4:n.callback4})))},n.state={quiz:"",rawString:"",slidesFlag:0,quizFlag:0,studentFlag:0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderStudentPage",value:function(){return console.log(this.state.quiz),s.a.createElement("div",null,this.state.quizFlag?s.a.createElement(G,{questions:this.state.quiz,callback3:this.callback3}):s.a.createElement(U,{callback2:this.callback2,slidesString:this.state.slidesString}))}},{key:"renderPresenterPage",value:function(){return s.a.createElement("div",null,this.state.quizFlag?s.a.createElement(_,{questions:this.state.quiz,callback3:this.callback3}):s.a.createElement(U,{callback2:this.callback2,slidesString:this.state.slidesString}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.slidesFlag?this.state.studentFlag?this.renderStudentPage():this.renderPresenterPage():this.renderUploadPage())}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},416:function(e,t,n){e.exports=n.p+"static/media/logo.f45975d0.png"},441:function(e,t,n){e.exports=n(1065)},446:function(e,t,n){},447:function(e,t,n){},509:function(e,t){},510:function(e,t){},511:function(e,t){},529:function(e,t){}},[[441,1,2]]]);
//# sourceMappingURL=main.b52511a9.chunk.js.map