(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1178:function(e,t,n){},1179:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(8),i=n.n(s),r=(n(509),n(19)),l=n(25),c=n(21),u=n(20),m=n(22),d=n(50),h=n(51),p=n(82),f=n.n(p),g=n(307),y=n(16),v=n(1182),E=n(1189),b=n(1187),w=n(1183),q=n(471),k=n.n(q),S=function(e){var t=new k.a;t.themeSet.default=t.themeSet.add("\n        /* @theme example */\n\n        section {\n          background-color: #369;\n          color: #fff;\n          font-size: 30px;\n          padding: 40px;\n        }\n\n    h1,\n    h2 {\n      text-align: center;\n      margin: 0;\n    }\n\n    h1 {\n      color: #8cf;\n    }\n    ");var n=t.render(e),a=n.html,o=n.css;return"\n        <!DOCTYPE html>\n        <html><body>\n          <style>".concat(o,"</style>\n          ").concat(a,"\n        </body></html>\n        ")},C=n(48),I=n.n(C),O="https://quiz-hero.herokuapp.com",z=function(e,t){var n=e.length,a=new Array;console.log(n);for(var o=1,s=0;s<n;s++){var i=e[s];console.log(s),console.log(e[s]);var r,l=i.split("\n\n");""==l[l.length-1]&&l.splice(l.length-1,1),console.log(l);var c=new Array;console.log(c);for(var u=0;u<l.length;u++){for(var m="A",d={question:"",answers:[]},h=l[u].split("\n"),p=0;p<h.length;p++){var f=h[p];if(f.length>1)if(console.log(f),"> Question:"===f.slice(0,11))d.question=f.slice(12,f.length);else if("*"===f[0]&&"[x]"===f.slice(2,5)){r=f.slice(6,f.length),d.answers.push({type:m,content:r});var g=m.charCodeAt(0);m=String.fromCharCode(g+1);var y={fileId:t,questionId:o,answer:String.fromCharCode(g),countA:0,countB:0,countC:0,countD:0};o++,console.log(y),I.a.post(O+"/quiz",y,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("quiz initialize success")})).catch((function(e){console.log(e)}))}else if("*"===f[0]&&"[ ]"===f.slice(2,5)){r=f.slice(6,f.length),d.answers.push({type:m,content:r});g=m.charCodeAt(0);m=String.fromCharCode(g+1)}}c.push(d)}a.push(c),console.log(a)}return console.log(a),a},j=function(e,t){for(var n=new Array(100),a=new Array(100),o=0;o<100;o++)n[o]=new Array,a[o]=new Array;var s=e.split("---\n\n"),i=0;for(o=0;o<s.length;o++){">"===s[o].split(" ")[0]?(a[i].push(s[o]),n[i].push("$$$quiz$$$\n\n"),console.log(i),console.log(a[i]),i++):n[i].push(s[o])}o=0;for(var r=new Array,l=new Array;""!=n[o];)r[o]=n[o].join("---\n\n"),""!=a[o]&&(l[o]=a[o].join("---\n\n")),o++;return{quiz:a=z(l,t),slidesString:r,fileId:t}},A=n(55),x=(n(1181),v.a.Header),N=(v.a.Content,v.a.Footer,{name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"}}),Q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={file:"",fileId:"",rawString:"",data:"",marpitResult:"",display_name:"none"},n.beforeUpload=function(e){console.log("FILEEE",e),n.setState({file:e})},n.onChange=function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e.file.name),E.a.success("".concat(e.file.name," file uploaded successfully")),n.sendFile().then(n.readFile).then(n.callSeparateQuestion),n.state.display_name=n.display_name()):"error"===e.file.status&&(console.log(e.file.name),E.a.error("".concat(e.file.name," file upload failed.")))},n.onRemove=function(){n.state.display_name=n.display_name()},n.onDownload=function(){!function(e,t){var n=window.URL||window.webkitURL||window,a=new Blob([t]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=n.createObjectURL(a),o.download=e,function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(o)}("filename.html",n.state.marpitResult)},n.sendFile=function(){var e=n.state.file;return new Promise((function(t,a){var o=new FormData;o.append("file",e),o.append("userId",localStorage.getItem("instructorId")),console.log("Send data to backend",o),I.a.post(O+"/upload",o).then((function(e){console.log("CCC",e.data),n.setState({fileId:e.data.fileId}),t(e.data.fileId)})).catch((function(e){a(e)}))}))},n.readFile=function(){var e=n.state.file;return new Promise((function(t,a){var o=new FileReader;o.readAsText(e),o.onload=function(e){n.setState({rawString:o.result}),t(o.result)},o.onerror=function(e){a(e)}}))},n.callSeparateQuestion=function(){var e=j(n.state.rawString,n.state.fileId);console.log(e),n.setState({data:e}),n.getMarpit()},n.getMarpit=function(){var e=S(n.state.rawString);n.setState({marpitResult:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"display_name",value:function(){"none"===this.state.display_name?this.setState({display_name:"block"}):"block"===this.state.display_name&&this.setState({display_name:"none"})}},{key:"handleLogOut",value:function(){localStorage.setItem("username",null),localStorage.setItem("instructorId",0),localStorage.setItem("isLogin",!1),window.location="/login"}},{key:"render",value:function(){var e=localStorage.getItem("username")?localStorage.getItem("username"):"";return o.a.createElement("div",{className:"App"},o.a.createElement(x,{style:{height:0,padding:0,position:"fixed",zIndex:1,width:"100%"}},o.a.createElement("div",{className:"logo"}),o.a.createElement(b.a,{theme:"white",mode:"horizontal",defaultSelectedKeys:["1"]},o.a.createElement(b.a.Item,{key:"1",style:{marginLeft:"160px"}},o.a.createElement(A.b,{to:"/HomePage"},"Upload")),o.a.createElement(b.a.Item,{key:"2"},o.a.createElement(A.b,{to:"/history"},"History")),o.a.createElement("div",{style:{display:"inline-block",float:"right",paddingRight:"30px"}},"Welcome, ",e,o.a.createElement("button",{onClick:this.handleLogOut,style:{background:"none",border:"none",paddingLeft:"5px",color:"#1890FF",textDecoration:"underline",cursor:"pointer"}},"Log Out")))),o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(w.a,Object.assign({onChange:this.onChange,beforeUpload:this.beforeUpload,onDownload:this.onDownload,onPreview:this.onPreview,onRemove:this.onRemove},N),o.a.createElement(g.a,null,o.a.createElement(y.a,{type:"upload"})," Click to Upload"))),o.a.createElement("div",{style:{display:this.state.display_name}},o.a.createElement(A.b,{to:{pathname:"/presenter",query:this.state.data}},o.a.createElement(g.a,{size:"large",style:{marginRight:10}},o.a.createElement(y.a,null),"Presenter mode")),o.a.createElement(A.b,{to:{pathname:"/student",query:this.state.data}},o.a.createElement(g.a,{size:"large",style:{marginLeft:10}},o.a.createElement(y.a,null),"Student mode"))))))}}]),t}(o.a.Component),R=n(58),P=n(143);var F=function(e){return o.a.createElement("h2",{className:"question"},e.content)};var L=function(e){return o.a.createElement("div",{className:"questionCount"},"Question ",o.a.createElement("span",null,e.counter)," of ",o.a.createElement("span",null,e.total))};var T=function(e){return o.a.createElement("li",{className:"answerOption"},o.a.createElement("input",{type:"radio",className:"radioCustomButton",name:"radioGroup",checked:e.answerType===e.answer,id:e.answerType,value:e.answerType+" "+e.questionCounter+" "+e.answerContent,disabled:e.answer,onChange:e.onAnswerSelected}),o.a.createElement("label",{className:"radioCustomLabel",htmlFor:e.answerType},e.answerContent))};var D=function(e){return o.a.createElement(P.CSSTransitionGroup,{className:"container",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},o.a.createElement("div",{key:e.questionId},o.a.createElement(L,{counter:e.questionId,total:e.questionTotal}),o.a.createElement(F,{content:e.question}),o.a.createElement("ul",{className:"answerOptions"},e.answerOptions.map((function(t){return o.a.createElement(T,{key:t.content,answerContent:t.content,answerType:t.type,answer:e.answer,questionId:e.questionId,onAnswerSelected:e.onAnswerSelected,questionCounter:e.questionCounter})})))))},U=n(478),B=n.n(U),M=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).refreshStatistic=function(){console.log("Push"),n.getStatistic()},n.getStatistic=function(){var e={fileId:n.state.fileId,questionId:1};console.log(e),I.a.get(O+"/quizstat",{params:e}).then((function(e){200===e.status&&(n.setState({quizData:e.data}),console.log("res",e))})).catch((function(e){console.log("error")}))},n.state={quizData:[],fileId:e.fileId},console.log(n.state.fileId),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getStatistic()}},{key:"render",value:function(){var e=this,t=this.state.quizData,n=0,a=[],s=[],i=[],r=[],l=[],c=[],u=[],m=["#C6E579","#FE8463","#32D3EB"];for(var d in t){n+=1,a.push("Q"+n),s.push(t[d].countA),i.push(t[d].countB),r.push(t[d].countC),l.push(t[d].countD),c.push(t[d].answer);var h=t[d].countA+t[d].countB+t[d].countC+t[d].countD,p=0;"A"===t[d].answer?p=t[d].countA:"B"===t[d].answer?p=t[d].countB:"C"===t[d].answer?p=t[d].countC:"D"===t[d].answer&&(p=t[d].countD);var f=p/h*100;u.push(f.toFixed(1))}var y={title:{text:"Quiz Statistic",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{data:a},yAxis:[{type:"value",name:"Amount of Choices",position:"left",axisLine:{lineStyle:{color:"black"}}},{type:"value",name:"Correct Percentage",position:"right",axisLine:{lineStyle:{color:"black"}},axisLabel:{formatter:"{value} %"}}],series:[{name:"A",type:"bar",barGap:.1,barWidth:30,data:s,itemStyle:{normal:{color:function(e){return"A"===c[e.dataIndex]?m[0]:m[1]}}}},{name:"B",type:"bar",barWidth:30,data:i,itemStyle:{normal:{color:function(e){return"B"===c[e.dataIndex]?m[0]:m[1]}}}},{name:"C",type:"bar",barWidth:30,data:r,itemStyle:{normal:{color:function(e){return"C"===c[e.dataIndex]?m[0]:m[1]}}}},{name:"D",type:"bar",barWidth:30,data:l,itemStyle:{normal:{color:function(e){return"D"===c[e.dataIndex]?m[0]:m[1]}}}},{name:"Corrent Percentage",type:"line",data:u,yAxisIndex:1,itemStyle:{normal:{color:m[2]}}}]};return o.a.createElement("div",null,o.a.createElement("div",{className:"legend",style:{float:"left"}},o.a.createElement("span",{style:{marginLeft:"10px"}},"Correct Answer"),o.a.createElement("button",{style:{backgroundColor:"#C6E579",width:"30px",height:"15px",margin:"0px 10px",borderRadius:"3px"}}),o.a.createElement("span",{style:{marginLeft:"10px"}},"Wrong Answer"),o.a.createElement("button",{style:{backgroundColor:"#FE8463",width:"30px",height:"15px",margin:"0px 10px",borderRadius:"3px"}})),o.a.createElement(g.a,{onClick:this.refreshStatistic},"Refresh"),o.a.createElement(B.a,{ref:function(t){e.echartsElement=t},option:y,theme:"clear"}))}}]),t}(o.a.Component),_={background:{backgroundColor:"white"},colors:{primary:"white",secondary:"blue",quaternary:"yellow"},fonts:{header:'"Helvetica Neue", Helvetica, Arial, sans-serif'},fontSizes:{h1:"70px",h2:"60px",text:"25px"}},H=n(70),V="> Question: What is your favorite course?";console.log(V);var $=function(){return o.a.createElement(H.e,{justifyContent:"space-between",position:"absolute",bottom:0,width:1},o.a.createElement(H.a,{padding:"0 1em"},o.a.createElement(H.f,null)),o.a.createElement(H.a,{padding:"1em"},o.a.createElement(H.n,null)))},W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){n.toQuizCallback(1),console.log(n.slides)},n.toQuizCallback=e.toQuizCallback,n.slides=e.slides,n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log(V);for(var e={backgroundColor:"#ecc",width:"200px",height:"50px",margin:"0px 10px",boarderRadius:"3px",fontSize:"20px"},t=[],n=0;n<this.slides.length;n++){var a=this.slides[n],s=a.split("---\n\n");console.log(s),"$$$quiz$$$\n\n"===s[s.length-1]?(s.splice(s.length-1,1),a=s.join("---\n\n"),t.push(o.a.createElement(H.k,{containsSlides:!0},a)),t.push(o.a.createElement(H.p,{backgroundColor:"#fff"},o.a.createElement(H.g,null,"Now lets do some funny quizzes!"),o.a.createElement(H.g,null,o.a.createElement(g.a,{onClick:this.onClick,style:e},o.a.createElement(y.a,null)," Click to start quiz"))))):t.push(o.a.createElement(H.k,{containsSlides:!0},a))}return(o.a.createElement(H.d,{loop:!0,theme:_,template:$},t))}}]),t}(o.a.Component),G=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).OnClick=function(){n.props.toSlidesCallback()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,{onClick:this.OnClick},o.a.createElement(y.a,null)," Back to Slides")}}]),t}(o.a.Component);var J=function(e){return o.a.createElement("div",null,o.a.createElement(P.CSSTransitionGroup,{className:"container result",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},o.a.createElement("div",null,"Thank you for finishing the quiz, here are the statistics:")),o.a.createElement(M,{fileId:e.fileId}),o.a.createElement(G,{toSlidesCallback:e.toSlidesCallback}))},K=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toQuizCallback=function(){n.setState({quizFlag:1})},n.toSlidesCallback=function(){return n.setState({quizFlag:0,result:0})},n.state={counter:0,questionId:1,questionCounter:1,question:"",answerOptions:[],result:"",fileId:e.location.query.fileId,quizCounter:0,quizList:e.location.query.quiz,quizQuestions:e.location.query.quiz[0],slides:e.location.query.slidesString},n.handleAnswerSelected=n.handleAnswerSelected.bind(Object(R.a)(n)),n.skipQuestion=n.skipQuestion.bind(Object(R.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.quizQuestions);var t=this.state.quizQuestions.map((function(t){return e.shuffleArray(t.answers)}));this.setState({question:this.state.quizQuestions[0].question,answerOptions:t[0]})}},{key:"shuffleArray",value:function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}},{key:"handleAnswerSelected",value:function(e){var t=this;this.setUserAnswer(e.currentTarget.value),console.log(e.currentTarget.value),this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return t.setNextQuestion()}),300):this.state.questionId===this.state.quizQuestions.length&&this.state.quizCounter<this.state.quizList.length-1?setTimeout((function(){t.setNextPart(),t.setResults()}),300):setTimeout((function(){return t.setResults()}),300)}},{key:"setUserAnswer",value:function(e){var t=e.split(" "),n=t[0],a=t[1];console.log(t);var o={fileId:this.state.fileId,questionId:parseInt(a),choice:n};console.log(o),I.a.post(O+"/record",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("upload success")})).catch((function(e){console.log("error")}))}},{key:"setNextQuestion",value:function(){var e=this.state.counter+1,t=this.state.questionId+1,n=this.state.questionCounter+1;this.setState({counter:e,questionId:t,question:this.state.quizQuestions[e].question,answerOptions:this.state.quizQuestions[e].answers,answer:"",questionCounter:n})}},{key:"setNextPart",value:function(){var e=this,t=this.state.quizCounter+1,n=this.state.questionCounter+1,a=this.state.quizList[t],o=a.map((function(t){return e.shuffleArray(t.answers)}));this.setState({questionId:1,counter:0,quizCounter:t,quizQuestions:a,question:a[0].question,answerOptions:o[0],questionCounter:n})}},{key:"skipQuestion",value:function(){var e=this;this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return e.setNextQuestion()}),300):setTimeout((function(){return e.setResults()}),300)}},{key:"setResults",value:function(e){this.setState({result:1})}},{key:"renderQuiz",value:function(){return o.a.createElement("div",null,o.a.createElement(D,{answer:this.state.answer,answerOptions:this.state.answerOptions,questionId:this.state.questionId,question:this.state.question,questionTotal:this.state.quizQuestions.length,onAnswerSelected:this.handleAnswerSelected,questionCounter:this.state.questionCounter}),o.a.createElement(g.a,{onClick:this.skipQuestion},o.a.createElement(y.a,null)," Skip"))}},{key:"renderResult",value:function(){return o.a.createElement(J,{fileId:this.state.fileId,toSlidesCallback:this.toSlidesCallback})}},{key:"renderQuizPages",value:function(){return o.a.createElement("div",{className:"Quiz-page"},o.a.createElement("div",{className:"Quiz-header"}),this.state.result?this.renderResult():this.renderQuiz())}},{key:"renderSlides",value:function(){return o.a.createElement("div",null,o.a.createElement(W,{toQuizCallback:this.toQuizCallback,slides:this.state.slides}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.quizFlag?this.renderQuizPages():this.renderSlides())}}]),t}(a.Component);var Y=function(e){return o.a.createElement("div",null,o.a.createElement(P.CSSTransitionGroup,{className:"container result",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},o.a.createElement("div",null,"Thank you for finishing the quiz, please go back to the slides.")),o.a.createElement(G,{toSlidesCallback:e.toSlidesCallback}))},X=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toQuizCallback=function(){n.setState({quizFlag:1})},n.toSlidesCallback=function(){return n.setState({quizFlag:0,result:0})},n.state={counter:0,questionCounter:1,questionId:1,question:"",answerOptions:[],result:"",fileId:e.location.query.fileId,quizBlockCounter:0,quizList:e.location.query.quiz,quizQuestions:e.location.query.quiz[0],slides:e.location.query.slidesString},n.handleAnswerSelected=n.handleAnswerSelected.bind(Object(R.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.quizQuestions.map((function(t){return e.shuffleArray(t.answers)}));this.setState({question:this.state.quizQuestions[0].question,answerOptions:t[0]})}},{key:"shuffleArray",value:function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}},{key:"handleAnswerSelected",value:function(e){var t=this;this.setUserAnswer(e.currentTarget.value),console.log(e.currentTarget.value),this.state.questionId<this.state.quizQuestions.length?setTimeout((function(){return t.setNextQuestion()}),300):this.state.questionId===this.state.quizQuestions.length&&this.state.quizBlockCounter<this.state.quizList.length-1?(console.log("111"),setTimeout((function(){t.setNextPart(),t.setResults()}),300)):setTimeout((function(){return t.setResults()}),300)}},{key:"setUserAnswer",value:function(e){var t=e.split(" "),n=t[0],a=t[1];console.log(t);var o={fileId:this.state.fileId,questionId:parseInt(a),choice:n};console.log(o),I.a.post(O+"/record",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("upload success")})).catch((function(e){console.log("error")}))}},{key:"setNextQuestion",value:function(){var e=this.state.counter+1,t=this.state.questionId+1,n=this.state.questionCounter+1;this.setState({counter:e,questionId:t,question:this.state.quizQuestions[e].question,answerOptions:this.state.quizQuestions[e].answers,answer:"",questionCounter:n})}},{key:"setNextPart",value:function(){var e=this,t=this.state.questionCounter+1,n=this.state.quizBlockCounter+1,a=this.state.quizList[n],o=a.map((function(t){return e.shuffleArray(t.answers)}));this.setState({questionId:1,counter:0,quizBlockCounter:n,quizQuestions:a,question:a[0].question,answerOptions:o[0],questionCounter:t})}},{key:"setResults",value:function(e){this.setState({result:1})}},{key:"renderQuiz",value:function(){return o.a.createElement(D,{answer:this.state.answer,answerOptions:this.state.answerOptions,questionId:this.state.questionId,question:this.state.question,questionTotal:this.state.quizQuestions.length,onAnswerSelected:this.handleAnswerSelected,questionCounter:this.state.questionCounter})}},{key:"renderResult",value:function(){return o.a.createElement(Y,{quizResult:this.state.result,toSlidesCallback:this.toSlidesCallback})}},{key:"renderQuizPages",value:function(){return o.a.createElement("div",{className:"Quiz-page"},o.a.createElement("div",{className:"Quiz-header"}),this.state.result?this.renderResult():this.renderQuiz())}},{key:"renderSlides",value:function(){return o.a.createElement("div",null,o.a.createElement(W,{toQuizCallback:this.toQuizCallback,slides:this.state.slides}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.quizFlag?this.renderQuizPages():this.renderSlides())}}]),t}(a.Component),Z=(n(1180),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toLogin=function(){window.location="/login"},n.toEnterCode=function(){window.location="/StudentRequestPage"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement("div",null,o.a.createElement(g.a,{onClick:this.toLogin,size:"large",style:{marginRight:10}},o.a.createElement(y.a,null),"I'm a Presenter"),o.a.createElement(g.a,{onClick:this.toEnterCode,size:"large",style:{marginRight:10}},o.a.createElement(y.a,null),"I'm a Student"))))}}]),t}(a.Component)),ee=n(1185),te=n(1186),ne=n(1188),ae=n(1191),oe=n(1192),se=n(103),ie=(n(467),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).formRef=o.a.createRef(),n.onFinish=function(e){console.log("Received values of form: ",e)},n.handleSubmit=function(){var e=n.props.form.getFieldValue("email")?n.props.form.getFieldValue("email"):null,t=n.props.form.getFieldValue("password")?n.props.form.getFieldValue("password"):null;if(console.log(e),console.log(t),null!==e&&null!==t){var a={email:e,pswd:t};I.a.post(O+"/login",{},{params:a}).then((function(e){console.log(e.status),201===e.status&&(console.log("Login success"),E.a.loading("Login success, directing you to HomePage",3,onclose=function(){n.props.login(e.data.name,e.data.instructorId),localStorage.setItem("instructorId",e.data.instructorId),localStorage.setItem("username",e.data.name),window.location="/HomePage"}))})).catch((function(e){console.log(e)}))}else E.a.error("All fields must be filled")},n.registerButtonHandler=function(){window.location="/register"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){0!==e.instructorId&&(localStorage.setItem("isLogin",!0),console.log("USer logined"))}},{key:"render",value:function(){var e=this.props.form.getFieldProps,t=this.props,n=t.instructorId,a=t.username;return console.log("Name",a),console.log("ID",n),o.a.createElement("div",{className:"login-page-container"},o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},ref:this.formRef},o.a.createElement(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Email!"}]},o.a.createElement(te.a,Object.assign({className:"login-input",prefix:o.a.createElement(ae.a,{className:"site-form-item-icon"}),placeholder:"Email"},e("email")))),o.a.createElement(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},o.a.createElement(te.a,Object.assign({className:"login-input",prefix:o.a.createElement(oe.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"},e("password")))),o.a.createElement(ee.a.Item,null,o.a.createElement(ee.a.Item,{className:"remember-me-box",name:"remember",valuePropName:"checked",noStyle:!0},o.a.createElement(ne.a,null,"Remember me"))),o.a.createElement(ee.a.Item,null,o.a.createElement(g.a,{type:"primary",className:"login-form-button",onClick:this.handleSubmit},"Log in"),o.a.createElement(g.a,{type:"primary",className:"register-button",onClick:this.registerButtonHandler},"Register"))))}}]),t}(a.Component)),re=ee.a.create({name:"LoginPage"})(Object(se.b)((function(e){return{instructorId:e.setUserName.instructorId,username:e.setUserName.username}}),(function(e){return{login:function(t,n){e(function(e,t){return{type:"ADD_USERNAME",instructorId:t,username:e}}(t,n))}}}))(ie)),le=n(1193),ce=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onFinish=function(e){console.log("Received values of form: ",e)},n.handleSubmit=function(e,t){var a=n.props.form.getFieldValue("username")?n.props.form.getFieldValue("username"):null,o=n.props.form.getFieldValue("email")?n.props.form.getFieldValue("email"):null,s=n.props.form.getFieldValue("password")?n.props.form.getFieldValue("password"):null;if(null!==o&&null!==s&&null!==a){var i={name:a,email:o,pswd:s};I.a.post(O+"/register",i).then((function(e){console.log(e.status),201===e.status&&E.a.loading("Register success, directing you to HomePage",[3],onclose=function(){console.log(e),localStorage.setItem("instructorId",e.data.instructorId),localStorage.setItem("username",e.data.name),window.location="/HomePage"})})).catch((function(e){console.log(e)}))}else E.a.error("All fields must be filled")},n.backButtonHandler=function(){window.location.replace(O+"/login")},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldProps;return o.a.createElement("div",{className:"login-page-container"},o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish},o.a.createElement(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},o.a.createElement(te.a,Object.assign({className:"login-input",prefix:o.a.createElement(ae.a,{className:"site-form-item-icon"}),placeholder:"Username"},e("username")))),o.a.createElement(ee.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},o.a.createElement(te.a,Object.assign({className:"login-input",prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),placeholder:"Email"},e("email")))),o.a.createElement(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},o.a.createElement(te.a,Object.assign({className:"login-input",prefix:o.a.createElement(oe.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"},e("password")))),o.a.createElement(ee.a.Item,{style:{marginTop:"20%"}},o.a.createElement(g.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"Register"),o.a.createElement(g.a,{type:"primary",className:"register-button",onClick:this.backButtonHandler},"Back"))))}}]),t}(a.Component),ue=ee.a.create({name:"LoginPage"})(Object(se.b)((function(e){}),(function(e){}))(ce)),me=n(69),de=te.a.Search,he=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSearch=function(e,t){var a={fileId:e};I.a.get(O+"/fetch",{params:a}).then((function(t){console.log("AAA",t.data),n.setState({MarkDownFile:t.data,fileId:e},n.generateSlides),alert("Successful.")})).catch((function(e){alert("File doesn't exist!")}))},n.generateSlides=function(){n.callSeparateQuestion(),n.state.display_name=n.display_name()},n.callSeparateQuestion=function(){var e=j(n.state.MarkDownFile,n.state.fileId);console.log(e),n.setState({data:e}),n.getMarpit()},n.getMarpit=function(){var e=S(n.state.MarkDownFile);n.setState({marpitResult:e})},n.download=function(){!function(e,t){var n=window.URL||window.webkitURL||window,a=new Blob([t]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=n.createObjectURL(a),o.download=e,function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(o)}("filename.html",n.state.marpitResult)},n.state={fileId:"",MarkDownFile:"",display_name:"none"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"display_name",value:function(){"none"===this.state.display_name?this.setState({display_name:"block"}):"block"===this.state.display_name&&this.setState({display_name:"none"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement(de,{style:{width:400},placeholder:"input shared url",enterButton:"Search",size:"large",onSearch:this.onSearch}),o.a.createElement("div",{style:{display:this.state.display_name}},o.a.createElement(A.b,{to:{pathname:"/student",query:this.state.data}},o.a.createElement(g.a,{onClick:this.onClick,size:"large",style:{marginLeft:10}},o.a.createElement(y.a,null),"Go to Presentation")),o.a.createElement(g.a,{onClick:this.download,size:"large",style:{marginLeft:10}},o.a.createElement(y.a,null),"Download file"))))}}]),t}(a.Component),pe=(n(470),n(1184)),fe=n(1190),ge=v.a.Header,ye=(v.a.Content,v.a.Footer,[{title:"demo.md"},{title:"presentation.md"},{title:"oose.md"},{title:"design pattern .md"}]),ve=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:[],list:[]},n.getData=function(e){n.setState({data:ye,list:ye})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getData((function(t){e.setState({data:ye,list:ye})}))}},{key:"render",value:function(){var e=this.state,t=e.initLoading,n=(e.loading,e.list);return o.a.createElement("div",{className:"App"},o.a.createElement(ge,{style:{height:0,padding:0,position:"fixed",zIndex:1,width:"100%"}},o.a.createElement("div",{className:"logo"}),o.a.createElement(b.a,{theme:"white",mode:"horizontal",defaultSelectedKeys:["2"]},o.a.createElement(b.a.Item,{key:"1"},o.a.createElement(A.b,{to:"/HomePage"},"Upload")),o.a.createElement(b.a.Item,{key:"2"},o.a.createElement(A.b,{to:"/history"},"History")))),o.a.createElement("div",{style:{padding:45,paddingTop:60}},o.a.createElement(pe.a,{"margin-top":"50px",className:"demo-loadmore-list",loading:t,itemLayout:"horizontal",dataSource:n,renderItem:function(e){return o.a.createElement(pe.a.Item,{actions:[o.a.createElement("a",{key:"list-loadmore-edit"},"View"),o.a.createElement("a",{key:"list-loadmore-more"},"Download")]},o.a.createElement(fe.a,{avatar:!0,title:!1,loading:e.loading,active:!0},o.a.createElement(pe.a.Item.Meta,{title:o.a.createElement("a",{href:"https://ant.design"},e.title)})))}})))}}]),t}(o.a.Component),Ee=(Object(d.a)(),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("last1",this.props.instructorId),console.log("now1",e.instructorId)}},{key:"render",value:function(){this.props.instructorId;return o.a.createElement(h.d,null,o.a.createElement(h.b,null,o.a.createElement(me.a,null,o.a.createElement(me.b,{path:"/",exact:!0,render:function(){return o.a.createElement(h.a,{to:"/FirstPage"})}}),o.a.createElement(me.b,{path:"/login",component:re}),o.a.createElement(me.b,{path:"/register",component:ue}),o.a.createElement(me.b,{path:"/FirstPage",exact:!0,component:Z}),o.a.createElement(me.b,{path:"/StudentRequestPage",exact:!0,component:he}),o.a.createElement(me.a,null,o.a.createElement(me.b,{path:"/HomePage",component:Q}),o.a.createElement(me.b,{path:"/presenter",component:K}),o.a.createElement(me.b,{path:"/student",component:X}),o.a.createElement(me.b,{path:"/history",component:ve})))))}}]),t}(a.Component)),be=Object(se.b)((function(e){return{instructorId:e.setUserName.instructorId}}))(Ee),we=(n(1178),function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("isLogin",!1)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(A.a,null,o.a.createElement(be,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=n(146),ke=n(494),Se=n(495),Ce={username:null,instructorId:0},Ie=function(e,t){switch(t.type){case"ADD_USERNAME":var n=t.username||"",a=t.instructorId||0;return Object(Se.a)({},e,{username:n,instructorId:a});default:return Ce}},Oe=Object(qe.c)({setUserName:Ie}),ze=Object(qe.d)(Oe,Object(qe.a)(ke.a));ze.subscribe((function(){console.log("somthing: ",ze.getState())})),i.a.render(o.a.createElement(se.a,{store:ze},o.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},467:function(e,t,n){},504:function(e,t,n){e.exports=n(1179)},509:function(e,t,n){},571:function(e,t){},572:function(e,t){},573:function(e,t){},591:function(e,t){},82:function(e,t,n){e.exports=n.p+"static/media/logo.0eb5e1f8.png"}},[[504,1,2]]]);
//# sourceMappingURL=main.7545dc30.chunk.js.map